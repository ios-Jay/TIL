# 옵셔널(Optional)

- ### 타입의 기본 개념에 대한 이해: 스위프트는 왜 옵셔널이라는 개념을 도입했을까?

---

> #### 모든 프로그래밍에서 아래와 같은 상황은 항상 골칫거리임

```

var yourName: String // 타입 선언

// yourName = "홍길동" // 초기화: 값을 저장하지 않는다면...?

// print(yourName)      // 출력: 에러 발생. 그리고 실제로 앱이 꺼진다.

```

> #### (만약 저장과정이 없다면) 메모리에 저장된 값이 없는데 접근: 💀"에러"💀

---

메모리 공간을 선언하고 그곳에 값이 없으면, 타입을 선언했는데 값이 없으면 에러가 발생하고 실제로는 앱이 꺼진다.

그런데 메모리 공간에 임시 타임(옵셔널)을 정의해 가지고 물음표를 붙인 새로운 타입을 정의해서 임시 타입으로 선언한다.

그러면 CPU가 이 메모리 공간에 접근했을때 임시 타입이 일단은 무언가가 무조건 들어있다고 판단하게 된다.

그래서 에러가 발생하지 않는다. 비유를 하면 포장지로 둘러쌓여 있는 개념이라고 생각하면 된다.

그리고 실제로 이 내부에 있는 값을 사용하려면 포장지를 한번 벗겨야 한다.

예를 들어, 옵셔널 정수형 타입 10, Optional(10)의 의미는 정수형 10이 아니라 Optional 정수형 타입 10,

그러니까 옵셔널이라는 포장지로 둘러쌓여 있는 개념이라고 생각하면 된다.

nil 이라는 것은 실제로 값이 없음을 나타내는 것이 아니고, 포장지로 둘러 쌓여서 값이 없음을 '의미' 하고 있는 것이다.

옵셔널 타입을 실제로 사용하려면 값을 벗겨내는 과정이 필요하고, 강제로 벗기게 되면 에러가 발생한다.

---

- ### 타입(Type)

---

> 지금까지의 타입 선언

```
let name: String = "Jobs"        // 명시적

let newName = "Musk"             // 암시적

var myAge = 20                   // 암시적

let myGrade: Double = 3.54       // 명시적

```

---

- ### 옵셔널 타입(Optional Type)

---

> _모든 타입의 뒤에 ? 물음표를 붙이면 옵셔널 타입이 된다._

```
var num: Int? = 3

var yourAge: Int? = nil

num = nil

```

- 값이 없어도 되는 타입으로 선언 했기 때문에, 값이 없어도 괜찮음

> 옵셔널 타입으로 선언할 때는 반드시 타입을 명시적으로 선언해야함.

```
// var yourAge = nil   --> 성립안됨

```

> #### _nil - 값이 없음을 나타내는 키워드 (실제 값이 없음이 아님)_

---

- ### 옵셔널, 옵셔널 타입의 기본 개념에 대한 이해

---

```
var optionalName: String?

optionalName = "홍길동"
```

> #### nil 이라는 것은 실제 값이 없다는 것이 아니라 값이 없을수도 있다는 것을 알려주는 키워드이다.

- 에러가 나지 않음 (옵셔널은 값이 없다는 것을 나타내는 키워드)

```

print(optionalName)

```

##### 옵셔널 타입 선언의 기본 규칙

##### 1. nil 대입 가능

##### 2. 자동 초기화 (값을 넣지 않을 시에 nil로 초기화) ⭐️

---

- ### 정식문법 표기

---

```
let num1: Int? = 2             // 간편표기

let num2: Optional<Int> = 0    // 정식문법

```

---

- ### 옵셔널 타입 연습

---

```
var optionalNum: Int? = nil

// var optionalNum = nil         // 불가능한 형태

```

> _추론할 형식이 없기 때문에 반드시 타입 어노테이션으로 초기화해야됨_

```
optionalNum = 10

print(optionalNum)      // Optional(10)
```

- > ##### 옵셔널 스트링 타입: 값이 없을 수도 있는 타입이다

옵셔널 타입의 경우 반드시 변수로 선언해야 한다.

왜냐하면 값이 없다는 것을 의미하고, 값이 들어갈 수 있어야 하고,

변할 수 있어야 하기 때문. 그래서 옵셔널 타입은 항상 변수로 선언한다.

```
let str: String = "Swift"

var optionalStr: String? = nil
```

---

## 옵셔널 타입 사용하기

- 옵셔널 타입: 값이 없을 수도 있는 경우를 포함하는(감싸고) 있는 임시적 타입

```
var optionalNumber: Int?

// 간편 표기. 정식 표기 -> var num3: Optional<Int>

var optionalString: String? = "안녕하세요."

print(optionalNumber)

print(optionalString)

```

---

## 옵셔널 값을 추출하는 4가지 방법

- ### 1. 강제로 값을 추출(Forced UnWrapping): 값이 있다는 것이 확실할 때 사용

---
